function authorLink(a,b){var c=getFilteredTerms('"'+a+'"'),d="/search/searchresult.jsp?"+searchPropertiesParamSearchWithin+"="+authorsGetReference+":"+c;if(b&&b.length>0){var e=authorIdReference+":"+b;d+="&"+searchPropertiesParamSearchWithin+"="+e}return d+="&"+searchPropertiesParamNewSearch+"=true"}function showLoadingImageText(a){jQuery("#"+a).show(),jQuery("#"+a+"-Text").hide(),loadingImgTimer=setTimeout(function(){jQuery("#"+a+"-DefaultText").hide(),jQuery("#"+a+"-Text").show()},1e4)}function hideLoadingImageText(a){jQuery("#"+a).hide(),jQuery("#"+a+"-Text").hide(),jQuery("#"+a+"-DefaultText").hide(),clearTimeout(loadingImgTimer)}function submitForm(){document.forms.search_form.submit(),$(this).find('input[type="submit"]').attr("disabled","disabled")}function fill(a){j$("#queryText").val(a),setTimeout("j$('#searchDropDown').hide();",200)}function showAdvancedSearch(){var a="/search/advsearch.jsp";location.href=a}function fixsrchquote(a){if(a.length<1)return""==nocriteria,nocriteria;nLoc=0,nStart=0;var b;for(b='"',nLoc=a.indexOf(b,nStart),sTemp="";-1!=nLoc;)sTemp+=a.substring(nStart,nLoc),sTemp+="~~",nStart=nLoc+1,nLoc=a.indexOf(b,nStart);for(sTemp+=a.substring(nStart,a.length),a=sTemp,nLoc=0,nStart=0,b="'",nLoc=a.indexOf(b,nStart),sTemp="";-1!=nLoc;)sTemp+=a.substring(nStart,nLoc),sTemp+=" ",nStart=nLoc+1,nLoc=a.indexOf(b,nStart);return sTemp+=a.substring(nStart,a.length),sTemp}function resultCountAction(){document.getElementById("action").value="resultCount",document.getElementById("random").value=(new Date).getTime(),document.searchResultsForm.submit()}function resetQueryText(){document.getElementById("chkresult").checked&&document.getElementById("queryText").focus()}function menuChange(a,b,c,d){document.getElementById(b).value=d,"menu1"==b&&(document.getElementById("scope1").value=c),"menu2"==b&&(document.getElementById("scope2").value=c),"menu3"==b&&(document.getElementById("scope3").value=c);var e="Drop"+b;MM_showHideLayers(e,"","hide"),menu1=c}function changePublications(){document.bsearch.std_status.selectedIndex>0?(document.bsearch.coll1.checked=!1,document.bsearch.coll2.checked=!1,document.bsearch.coll3.checked=!1,document.bsearch.coll4.checked=!1,document.bsearch.coll1.disabled=!0,document.bsearch.coll2.disabled=!0,document.bsearch.coll3.disabled=!0,document.bsearch.coll4.disabled=!0,document.bsearch.srchlist[0].checked=!0):(document.bsearch.coll1.checked=!0,document.bsearch.coll2.checked=!0,document.bsearch.coll3.checked=!0,document.bsearch.coll4.checked=!0,document.bsearch.coll1.disabled=!1,document.bsearch.coll2.disabled=!1,document.bsearch.coll3.disabled=!1,document.bsearch.coll4.disabled=!1,document.bsearch.srchlist[0].checked=!0)}function isvalidsearch(a,b){for(var c="true",d="true",e=0;e<a.length;e++){var f=a.elements[e];"query1"==f.name&&(null==f.value||""==f.value||isblank(f.value))&&(c="false"),"queryblock"==f.name&&(null==f.value||""==f.value||isblank(f.value))&&(d="false")}return"false"==c&&"false"==d?(alert("Please enter at least one search criteria!"),!1):(BuildSrchQuery(b),!0)}function BuildSrchQuery(a){var b,c=document.bsearch.query1.value,d=c.length,e=document.bsearch.query2.value,f=e.length,g=document.bsearch.query3.value,h=g.length,i=document.bsearch.scope1.value,j=document.bsearch.scope2.value,k=document.bsearch.scope3.value,l=document.bsearch.op1.value,m=document.bsearch.op2.value,n=document.bsearch.py1.value,o=document.bsearch.py2.value,b=document.bsearch.queryblock.value;if(b=b.toLowerCase(),b.length>0){var p=b.indexOf("<in>"),q=b.indexOf("<contains>");-1==p&&-1==q&&(b="(("+b+")<in>metadata)"),document.bsearch.reqloc.value="adv"}(d>0||f>0||h>0)&&(i.length>0&&c.length>0&&(c=" (("+c+")<in>"+i+" ) "),j.length>0&&e.length>0&&(e=" (("+e+")<in>"+j+" ) "),k.length>0&&g.length>0&&(g=" (("+g+")<in>"+k+" ) "),d>0&&1>f&&1>h&&(b=c),d>0&&f>0&&1>h&&(b="("+c+"<"+l+">"+e+")"),d>0&&f>0&&h>0&&(b="("+c+"<"+l+">"+e+")<"+m+">"+g)),b=fixsrchquote(b),b="1950"==n&&o==a&&b.length>0?b:"("+b+") <and> (pyr >= "+n+" <and> pyr <= "+o+")",document.bsearch.queryText.value=b.toLowerCase();var r=SelectRadio();"ipellist"==r&&(document.bsearch.queryText.value="("+b.toLowerCase()+")<and>(ipel_flag<in>packages)"),1==document.bsearch.coll1.checked&&(document.bsearch.coll6.value="preprint"),0==document.bsearch.coll1.checked&&(document.bsearch.coll6.value="")}function buildQuery(a){var b,c,d,e,f=document.advancedSearchForm.query1.value,g=f.length,h=document.advancedSearchForm.query2.value,j=h.length,k=document.advancedSearchForm.query3.value,l=k.length,m=document.advancedSearchForm.scope1.value,n=document.advancedSearchForm.scope2.value,o=document.advancedSearchForm.scope3.value,p=(document.advancedSearchForm.op1.value,document.advancedSearchForm.op2.value,document.advancedSearchForm.py1.value),q=document.advancedSearchForm.py2.value;(g>0||j>0||l>0)&&(m.length>0&&f.length>0&&(b=f,c=m,d=f),n.length>0&&h.length>0&&(c.length>0?(c=c+"|"+n,d=d+"|"+h):(c=n,d=h)),o.length>0&&k.length>0&&(c.length>0?(c=c+"|"+o,d=d+"|"+k):(c=o,d=k))),"1950"==p&&q==a&&b.length>0||(e=p.length>0&&q.length>0?"year|BTWN "+p+" "+q:"");var r="";for(i=1;i<document.advancedSearchForm.paramN.length;i++)document.advancedSearchForm.paramN[i].checked&&(r=r.length>=1?r+"+"+document.advancedSearchForm.paramN[i].value:document.advancedSearchForm.paramN[i].value);r.length<1&&(r="0"),document.advancedSearchForm.Ntk.value=c,document.advancedSearchForm.Ntt.value=d,document.advancedSearchForm.Nf.value=e,document.advancedSearchForm.N.value=r,document.advancedSearchForm.queryText.value=d}function chk_range(a,b){"recentyr"==a&&(document.advancedSearchForm.py1.value="1950",document.advancedSearchForm.py1.disabled=!0,document.advancedSearchForm.py2.value=b,document.advancedSearchForm.py2.disabled=!0),"allyr"==a&&(document.advancedSearchForm.py1.disabled=!1,document.advancedSearchForm.py2.disabled=!1)}function applySpecialCharacterMapping(a,b){for(var c=0;c<SPECIAL_CHARACTERS.length;c++)if(!b||"("!=SPECIAL_CHARACTERS[c]&&")"!=SPECIAL_CHARACTERS[c])for(var d=a.indexOf(SPECIAL_CHARACTERS[c]);d>-1;)a=a.replace(SPECIAL_CHARACTERS[c],SPECIAL_CHARACTER_REPLACEMENTS[c]),d=a.indexOf(SPECIAL_CHARACTERS[c]);return a}function getFilteredTermsExt(a,b){return a=a.replace(/\*+/,"*").replace(/\s+/," "),a=applySpecialCharacterMapping(a,b),a=a.replace(/^\s+|\s+$/g,"")}function getFilteredTerms(a){return getFilteredTermsExt(a,!1)}function filterQueryElement(a,b){var c=3;arguments.length>1&&(c=b);var d=a.value;if(d=j$.trim(d),!d.match(/\w/))return alert("Please enter one or more keywords"),!1;d=getFilteredTerms(d);var e=d.match(/\*/g);if(null!=e&&e.length>5)return alert("Please limit the number of wildcarded words to 5"),!1;parts=d.split(/[^*_a-z_A-Z_0-9]/);for(var f=0;f<parts.length;f++)if(parts[f].indexOf("*")>-1){var g=parts[f].match(/\w/g);if(null==g||g.length<c)return alert("Please provide at least "+c+" valid characters in wildcarded word ("+parts[f]+")"),!1}return d=stopCrossSiteScripting(d),a.value=d,!0}function callEnterpriseSignOn(a,b){var c=1e3;c=IBP_MEMBEER_SIGNIN_TIME_WAIT_IN_MILLIES,a_authenticateUserByJsonp(b.username,b.password),setTimeout(function(){return xploreSignIn(a,b)},c)}function a_authenticateUserByJsonp(a,b){a_authenticateUser(a,b)}function showSpinner(){j$("#SpinnerImage").show()}function stopSpinner(){j$("#SpinnerImage").hide()}function xploreSignIn(a,b){return request={url:a.attr("action"),method:"POST",data:b},responseHandler=function(b,c,d){handleResponse(b,c,d,a)},errorHandler=function(b,c,d){handleError(b,c,d,a)},xhr.request(request,responseHandler,errorHandler),!1}function signIn(){showSpinner();var a=j$(this).closest("form"),b=a.serializeObject();return""==b.username&&""==b.password||""==b.username||""==b.password?(j$("#errorMessages").html("Please enter a valid username and/or password"),stopSpinner(),!1):1==IBP_WS_ENABLED_FLAG?callEnterpriseSignOn(a,b):xploreSignIn(a,b)}function handleResponse(a,b,c,d){stopSpinner();var e=easyXDM.getJSONObject().parse(a.data);if(a.headers.Error&&"membermisuse"==a.headers.Error.trim())return void window.parent.location.replace(e.errorUrl);if(e.errorReason)d.find("#errorMessages").html(e.errorReason);else{var f=e.successRedirectUrl;if(null==f||null!=f&&0==f.length)if(null!=returnTargetUrl()&&""!=returnTargetUrl())window.parent.location.replace(returnTargetUrl());else{{location.href}location.reload()}else window.parent.location.replace(f)}}function handleError(){stopSpinner()}function returnTargetUrl(){var a=window.location.href,b=a;return a.indexOf("guesthome.jsp")>0&&(a="/Xplore/guesthome.jsp"),a.indexOf("url=")>=0&&(a=a.substring(a.indexOf("url=")+4),a.indexOf("&")>=0&&(a=a.substring(0,a.indexOf("&"))),a.indexOf("%3A%2F%2F")>0&&(a=decodeURIComponent(a))),b.indexOf("/servlet/wayf.jsp")>0&&a.indexOf("home.jsp")>0&&(a="/Xplore/home.jsp"),a.indexOf("login.jsp")>=0&&(a=document.referrer),a.indexOf("login.jsp")>=0&&a.indexOf("home.jsp")>0&&(a="/Xplore/home.jsp"),a.indexOf("guesthome.jsp")>-1&&(a=a.replace("guesthome","dynhome")),a.indexOf("ieeevendorsso")>-1&&a.indexOf("nexturl")>-1&&(a=a.substring(a.indexOf("nexturl")+8)),a.indexOf("dynhome")>-1&&(a=a.replace("?signout=success","")),a.indexOf("dynhome")>-1&&(a=a.replace("?signout=success#","")),-1!=a.indexOf("#")&&(a=a.replace("#","")),a}function validatePopup(){jQuery("#search_preferences_form").validate({rules:{email_address:{email:!0}},messages:{email_address:"Please enter a valid email address"},submitHandler:function(a,b){var c=jQuery("#toolbar-pop-container");submitSearchToolBarPopup(c,b)}})}function submitSearchToolBarPopup(a,b){b.preventDefault(),b.stopPropagation();{var c=jQuery("#toolbar-pop-container form"),d=jQuery(c).attr("action");jQuery.ajax({dataType:"json",method:"get",data:c.serialize(),url:d,success:function(b){successSearchToolBarPopup(b,a)},error:failureSearchToolBarPopup})}}function successSearchToolBarPopup(a,b){jQuery("#modal-mask").remove(),b.empty(),jQuery(a).each(function(a,b){Xplore.component.globalNotification.show({header:b.message})})}function failureSearchToolBarPopup(){}function downloadCitationCallback(){if(j$("#pop-container #recordIds").val(recordId),citFormat){var a=j$("input[name=citations-format]");a.length>0&&a[citFormat-1].click()}if(dlFormat){var a=j$("input[name=download-format]");a.length>0&&a[dlFormat-1].click()}}function downloadSearchResultCitationCallback(){j$("#aria-dynamic-text").html("Download Citations Form loaded");var a=$j(".results :checkbox"),b="";if(a.filter(":checked").length){j$.each(a.filter(":checked"),function(a,c){b=b?b+j$(c).attr("id")+",":j$(c).attr("id")+","});var c=b.lastIndexOf(",");b=b.substring(0,c)}if(j$("#pop-container #recordIds").val(b),citFormat){var d=j$("input[name=citations-format]");d.length>0&&d[citFormat-1].click()}if(dlFormat){var d=j$("input[name=download-format]");d.length>0&&d[dlFormat-1].click()}}function emailDocumentCallback(a){j$("#pop-container #hidden_input").val(recordId),j$("#pop-container #abs_link").val(a),jQuery("#your_name").focus()}function emailResultsCallback(){j$("#aria-dynamic-text").html("Email Selected Atricles Form loaded");var a=$j(".results :checkbox"),b="";if(a.filter(":checked").length){j$.each(a.filter(":checked"),function(a,c){b=b?b+j$(c).attr("id")+";":j$(c).attr("id")+";"});var c=b.lastIndexOf(";");b=b.substring(0,c),j$("#pop-container #hidden_input").val(b)}}function isFunction(fName){var functionName=fName,isDefined=eval("(typeof "+functionName+"=='function');");return isDefined?!0:!1}if("function"!=typeof Object.create&&(Object.create=function(a,b){function c(){}if(c.prototype=a,"object"==typeof b)for(prop in b)b.hasOwnProperty(prop)&&(c[prop]=b[prop]);return new c}),jQuery(function(){var a=Xplore,b=Object.create(a.typeahead),c=new a.Notification("#maintenance-notification .Notification",{showAnimation:"slideDown",hideAnimation:"slideUp"}),d=new a.Notification("#global-notification .Notification",{showAnimation:"transition.slideDownBigIn",hideAnimation:"transition.slideUpBigOut",autoHide:!0}),e=Object.create(a.signin);a.component={},a.search.init(),a.header.init(),b.init("#input-basic"),e.init("#personal-sign-in"),c.hide=function(){jQuery.post("/Xplore/closeMaintenaceMessage",{maintenaceMessageClosed:!0}),a.Notification.prototype.hide.apply(this)},a.component.globalNotification=d,jQuery.extend(!0,jQuery.fn.qtip.defaults,{position:{viewport:jQuery(window),at:"top center",my:"bottom center"},style:{classes:"qtip-ieee qtip-rounded qtip-shadow",width:350,tip:{width:24,height:16}}}),jQuery(document).on("mouseenter",".qtooltip, .qtooltip-left, qtooltip-bottom",function(a){var b=jQuery(this),c={};c={overwrite:!1,content:b.id,show:{event:a.type,ready:!0}},b.qtip(c,a)}),jQuery(".js-truncate").each(function(a,b){Xplore.util.truncate(b,{showExpandLink:!0})})}),!j$)var j$=jQuery.noConflict();j$(function(){j$(".authorPreferredName_Off").qtip({content:{text:function(){var a=j$(this).attr("title"),b=j$(this).find("#authorAffiliations").attr("class");if(alias=[],aliasList="",a||b){var c="";if(a&&(a=a.slice(0,-3),alias=a.split("|c|"),alias.sort(),j$.each(alias,function(){return aliasList=aliasList+"<li>"+this+"</li>",aliasList}),c='<div class="overlay-label">Also Known As:</div><div class="aliases"><ul>'+aliasList+"</ul></div>"),b){var d="",e=[];b=b.slice(0,-3),e=b.split("|c|");var f=j$(e).size();j$.each(e,function(a,b){return 1==f?d=d+"<li>"+b+"</li>":(d=d+"<li>"+b,f-1>a&&(d+=";</li>")),d}),c=c+'<br/><div class="overlay-label">Affiliation(s):</div><div class="aliases"><ul>'+d+"</ul></div>"}return c}}},position:{my:"bottom middle",at:"top middle"},style:{width:"300px",classes:"qtip-lightIeee"}})}),AuthorSearch={init:function(){AuthorSearch.bindEvents(),AuthorSearch.newFeatureIcon()},constructAuthName:function(a,b,c){var d=a+" "+b;return""!=c&&""!=d.trim()&&(c+=", "),c+d},bindEvents:function(){jQuery(".author-search-container input").keyup(function(a){13==a.which&&jQuery(this).parents().find(".search-button input").click()}),jQuery(".auth-form-action").click(function(a){a.preventDefault()}),jQuery(".auth-form-action").click(jQuery.debounce(Xplore.config.DEBOUNCE_THRESHOLD,!0,function(){AuthorSearch.processQuery()})),jQuery(".search-toggle").click(function(){var a=jQuery(this),b=a.html(),c=jQuery("#auth-search-form"),d=jQuery("#search-fieldset");return a.html(a.data("other")),a.data("other",b),a.toggleClass("pad-adjust"),c.toggle(),d.toggle(),AuthorSearch.newFeatureIcon(),!1})},getAuthorNameUrlString:function(a,b,c,d){var e=(getFilteredTerms(a),"/search/searchresult.jsp?"),f={},g=[];f[searchPropertiesParamMatchBoolean]="true",f[searchPropertiesParamNewSearch]="true",b&&g.push(authorsFirstNameProperty+":"+b),c&&g.push(authorsMiddleNameProperty+":"+c),d&&g.push(authorsLastNameProperty+":"+d),jQuery.each(g,function(a,b){f[searchPropertiesParamSearchWithin+a]=b});var h=jQuery.param(f);return h=h.replace(/searchWithin[0-9]*/g,searchPropertiesParamSearchWithin),e+h},processQuery:function(){var a=jQuery("#fname"),b=jQuery("#minit"),c=jQuery("#lname"),d=a.val(),e=b.val(),f=c.val(),g=AuthorSearch.constructAuthName(d,e,f),h=document.createElement("input");if(h.value=g,d=stopCrossSiteScripting(d),f=stopCrossSiteScripting(f),e=stopCrossSiteScripting(e),""===d&&""===f&&""===e)alert("First Name, Last Name or Middle Name is required");else{var i=filterQueryElement(h);i&&(window.location.href=AuthorSearch.getAuthorNameUrlString(g,d,e,f))}},newFeatureIcon:function(){jQuery("#search-field .newFeature").remove(),jQuery("#search-field .tools").before('<span class="newFeature"></span>'),jQuery("#search-field .newFeature").html("")}};var j$=jQuery.noConflict();j$(document).ready(function(){j$(".prefNameLink").each(function(){var a=j$(this).find("#preferredName").attr("class"),b=j$(this).find("#authorId").attr("class"),c=authorLink(a,b);j$(this).attr("href",c)}),AuthorSearch.init()});var Xplore=function(a){"use strict";var b={THROTTLE_DELAY:1e3,DEBOUNCE_THRESHOLD:1e3};return a.config=b,a}(Xplore||{}),Xplore=function(a,b){"use strict";var c={init:function(){c.bindEvents()},config:{isWebAccount:b("#xplore-header").data("web"),isInstAccount:b("#xplore-header").data("inst"),isServiceAvailable:b("#xplore-header").data("service"),createAccountUrl:"/xpl/mwRegistrationIntro.jsp",unavailableUrl:"/xpl/mwServiceUnavailable.jsp",signInUrl:"/xpl/mwMemberSignIn.jsp",signOutUrl:"/servlet/Login?logout=/Xplore/guesthome.jsp?ssologout=yes",multiSignOutUrl:"/xpl/mwSignOut.jsp"},el:{createAccount:b(".Metanav .create-account, .Footer .create-account"),footerSignin:b(".Footer .footer-sign-in"),signOut:b(".Metanav .sign-out, .Footer .sign-out"),cart:b(".Metanav .cart"),welcome:b(".Metanav .welcome"),roamingSignin:b(".roaming-msg .roaming-sign-in")},bindEvents:function(){var a,b=c.config,d=c.el;d.createAccount.on("click",function(){return a=b.isServiceAvailable?b.createAccountUrl:b.unavailableUrl,Modal.show(a),!1}),d.cart.on("click",function(){return b.isServiceAvailable?void 0:(Modal.show(b.unavailableUrl),!1)}),d.footerSignin.on("click",function(){return Modal.show(b.signInUrl),!1}),d.roamingSignin.on("click",function(){return Modal.show(b.signInUrl),!1}),d.signOut.on("click",function(){return b.isInstAccount&&b.isWebAccount?Modal.show(b.multiSignOutUrl):location.href=b.signOutUrl,!1})}};return a.header=c,a}(Xplore||{},jQuery);Modal={submitForm:function(a){var b=$(a).action;return b=b+"?"+$(a).serialize(),jQuery.colorbox({href:b,scrolling:!1,opacity:.6,overlayClose:!1,close:""}),!1},show:function(a){var b=!1;-1!=a.indexOf("mwInstSignIn")&&(b="Modal"),jQuery.colorbox({className:b,href:a,scrolling:!1,opacity:.6,overlayClose:!1,close:""}),jQuery("#cboxContent").html('<a id="mdCloseButton" class="" href="javascript:Modal.hide()" title="Close this window"><i class="fa fa-lg fa-close"></i></a>')},showLegacyAccountTransition:function(a){jQuery.colorbox({href:a,scrolling:!1,opacity:.6,overlayClose:!1,close:""}),jQuery("#cboxContent").html('<a id="mdCloseButton" class="" href="javascript:Modal.hide()" title="Close this window"><i class="fa fa-lg fa-close"></i></a>')},showIframeInstSignIn:function(a){jQuery.colorbox({href:a,width:"680px",height:"320px",scrolling:!1,iframe:!0,opacity:0,overlayClose:!1,close:""}),jQuery("#cboxContent").html('<a id="mdCloseButton" class="" href="javascript:Modal.hide()" title="Close this window"><i class="fa fa-lg fa-close"></i></a>')},showIframeMemberSignIn:function(a){jQuery.colorbox({href:a,width:"730px",height:"500px",scrolling:!1,iframe:!0,opacity:0,overlayClose:!1,close:""}),jQuery("#cboxContent").html('<a id="mdCloseButton" class="" href="javascript:Modal.hide()" title="Close this window"><i class="fa fa-lg fa-close"></i></a>')},showIframeSignOut:function(a){jQuery.colorbox({href:a,width:"680px",height:"420px",scrolling:!1,iframe:!0,opacity:0,overlayClose:!1,close:""}),jQuery("#cboxContent").html('<a id="mdCloseButton" class="" href="javascript:Modal.hide()" title="Close this window"><i class="fa fa-lg fa-close"></i></a>')},refresh:function(a){var b=!1;-1!=a.indexOf("mwInstForgot")&&(b="Modal"),jQuery.colorbox({className:b,href:a,scrolling:!1,overlayClose:!1,overlayClose:!1,opacity:.6}),jQuery("#cboxContent").html('<a id="mdCloseButton" class="" href="javascript:Modal.hide()" title="Close this window"><i class="fa fa-lg fa-close"></i></a>')},refreshLegacyAccountTransition:function(a){jQuery.colorbox({href:a,scrolling:!1,overlayClose:!1,overlayClose:!1,opacity:.6}),jQuery("#cboxContent").html('<a id="mdCloseButton" class="" href="javascript:Modal.hide()" title="Close this window"><i class="fa fa-lg fa-close"></i></a>')},refreshIframe:function(a){jQuery.colorbox({href:a,scrolling:!1,iframe:!0,overlayClose:!1,overlayClose:!1,opacity:.6}),jQuery("#cboxContent").html('<a id="mdCloseButton" class="" href="javascript:Modal.hide()" title="Close this window"><i class="fa fa-lg fa-close"></i></a>')},hide:function(){jQuery.colorbox.close()},cancelIframe:function(){parent.jQuery.fn.colorbox.close()},closeAndSubmitForm:function(a){var b=jQuery("#"+a),c=b.attr("action"),d=b.serialize();return jQuery.post(c,d,function(a){jQuery.colorbox({html:a,scrolling:!1,opacity:.6,overlayClose:!0,close:""})}),!1},closeAndRefresh:function(){jQuery.colorbox.remove();var a=location.href;a.indexOf("guesthome")>-1&&a.indexOf("signout=success")>-1?(a=a.replace("?signout=success",""),void(location.href=a)):location.reload()},closeAndRedirectToUrl:function(a){void 0!=a&&""!=jQuery.trim(a)&&(jQuery.colorbox.remove(),void(location.href=a))}};var Xplore=function(a,b){"use strict";var c=function(a,c){this.node=a,this.options={showAnimation:"show",hideAnimation:"hide",autoHide:!1,showDuration:5e3},b.extend(this.options,c),a.indexOf("global-notification")>-1&&b(a).length<1&&this.injectNode(),this.cacheEls().bindEvents()};return c.prototype={cacheEls:function(){var a=b(this.node);return this.el={closeButton:a.find(".js-close"),header:a.find(".Notification-header"),body:a.find(".Notification-text")},this},bindEvents:function(){var a=this,b=this.el;return b.closeButton.on("click",function(){a.hide()}),this},injectNode:function(){var a='<div id="global-notification" class="pure-g"><div class="hide pure-u-1 Notification Notification--global Notification--fixed"><a href="#" class="Notification-close js-close"></a><div class="Notification-header"></div><div class="Notification-text"></div></div></div>';return b("body").prepend(a),this},isVisible:function(){return b(this.node).is(":visible")},show:function(a){var c=this,d=this.options.showAnimation,e=b(this.node);return a&&this.update(a),this.isVisible()||("show"===d?e.show():"slideDown"===d?e.slideDown():e.velocity(d)),this.options.autoHide&&setTimeout(function(){c.hide()},this.options.showDuration),this},hide:function(){var a=this.options.hideAnimation,c=b(this.node);return"hide"===a?(c.hide(),this):"slideUp"===a?(c.slideUp(),this):(c.velocity(a),this)},reset:function(){this.updateHeader(""),this.updateMsg(""),this.updateState("default")},update:function(a){return this.reset(),"string"==typeof a?this.updateMsg(a):"object"==typeof a&&(a.hasOwnProperty("header")&&this.updateHeader(a.header),a.hasOwnProperty("body")&&this.updateMsg(a.body),a.hasOwnProperty("state")&&this.updateState(a.state)),this},updateHeader:function(a){return this.el.header.html(a),this},updateMsg:function(a){return this.el.body.html(a),this},updateState:function(a){b(this.node).attr("data-notify-state",a)}},a.Notification=c,a}(Xplore||{},jQuery),Xplore=function(a,b,c){"use strict";var d={init:function(){this.bindEvents(),this.notification=new Xplore.Notification(".Search .Notification",{showAnimation:"transition.fadeIn",hideAnimation:"transition.fadeOut"})},config:{minCharacters:3,wildcardMax:5,warningIcon:'<i class="icon fa fa-warning"></i>'},el:{group:b(".Search-group"),control:b(".Search-control a"),menu:b(".Search-menu"),submit:b(".Search .js-search"),form:b(".Search .js-inputs")},getMessage:function(a){var b,d={};return d.empty="Please enter one or more keywords",d.minCharacters="Please provide at least "+this.config.minCharacters+" valid characters for each keyword ",d.wildcardMax="Please limit the total # of wildcards to "+this.config.wildcardMax,b=d[a]===c?a:d[a]},bindEvents:function(){var a=this.el,c=this;a.control.on("click",function(){var a=b(this).attr("href");return c.notification.hide(),c.activateControl(this),c.changeInput(a),!1}),a.menu.on("mouseleave",function(){var a=b(this);a.hasClass("active")&&a.removeClass("active")}),a.menu.find(".Search-option-title").on("click",function(){return a.menu.addClass("active"),!1}),a.menu.find(".Search-option-title").on("focus",function(){a.menu.addClass("active")}),a.menu.find(".Menu a:last").on("keydown",function(b){b.shiftKey||9!==b.which||a.menu.removeClass("active")}),a.form.on("submit",function(){return c.evaluateSubmission(),!1})},evaluateSubmission:function(){var a=this.getQuery(),b=this.testValidity(a);b.isValid?(this.resetQuery(),this.resetInputState(),this.notification.hide(),this.submitSearch()):(this.renderErrorState(b.errorFields),this.notification.show(this.config.warningIcon+this.getMessage(b.errorType)).updateState("error"))},changeInput:function(a){var b=this.el.group;this.resetInputState(),this.resetQuery(),b.addClass("hide").filter(a).removeClass("hide").find("input[type=text]:first").focus()},activateControl:function(a){var c=this.el.control.parent();c.removeClass("active"),b(a).parent().addClass("active")},getQuery:function(){var a=this.el.group.filter(":not(.hide)").find(":input:not([type=hidden])"),c={};return a.each(function(a,d){c[b(d).attr("name")]=b(d).val()}),c},resetQuery:function(){this.query=c},resetInputState:function(){var a=this.getQuery();b.each(a,function(a){b('[name="'+a+'"]').removeClass("is-error")})},renderErrorState:function(a){this.resetInputState(),b.each(a,function(a){b('[name="'+a+'"]').addClass("is-error")})},testValidity:function(a){var c,d,e="",f=this,g=b.extend({},a),h={};return b.each(a,function(a,b){e+=b+" "}),e=e.trim(),h.isValid=!0,d=this.getWildcardCount(e),(this.isEmpty(e)||this.hasOnlyWildcards(e))&&(h.isValid=!1,h.errorType="empty"),d>0&&(d>this.config.wildcardMax?(h.isValid=!1,h.errorType="wildcardMax",b.each(g,function(a,b){0===f.getWildcardCount(b)&&delete g[a]})):(b.each(g,function(a,b){d=f.getWildcardCount(b),c=b.length-d,(d>0&&c>=f.config.minCharacters||0===d)&&delete g[a]}),b.isEmptyObject(g)||(h.isValid=!1,h.errorType="minCharacters"))),h.errorFields=g,h},getWildcardCount:function(a){var b=a.match(/\*/g);return null!==b?b.length:0},isEmpty:function(a){return 0===a.length},isOverWildcardLimit:function(a){return this.getWildcardCount(a)>this.config.wildcardMax},hasOnlyWildcards:function(a){return a.length===this.getWildcardCount(a)},getInvalid:function(a){var c,d,e=this,f=a.split(/[^*_a-z_A-Z_0-9]/),g={};return g.status=!1,b.each(f,function(a,b){return c=e.getWildcardCount(b),d=b.length-c,c>0&&d<e.config.minCharacters?(g.status=!0,g.word=b,!1):void 0}),g},replaceSpecialChars:function(a){return a=a.replace(/\&/g,".AND.").replace(/\=/g,".EQ.").replace(/\+/g,".PLS.").replace(/\#/g,".HSH.").replace(/\(/g,".LB.").replace(/\)/g,".RB.").replace(/\"/g,".QT.")},submitSearch:function(){var a,c,d,e,f,g,h=b("#search_form .Search-group:not(.hide)"),i=b("#search_form > input[type=hidden], .Search-group:not(.hide) input[type=hidden]"),j=b("#search_form").attr("action")+"?",k=this,l={};"search-basic"===h.attr("id")?(e=this.replaceSpecialChars(h.find("input[type=text]").val()),a=i.serialize()+"&"+b.param({queryText:e})):(d={fname:"p_First_Names:",mname:"p_Middle_Names:",lname:"p_Last_Names:",title:"p_Publication_Title:",volume:"p_Volume:",issue:"p_Issue:",spage:"p_Start_Page:",epage:"p_End_Page:"},h.find("input[type=text],input[type=hidden]").each(function(a,e){c=b(e),f=c.attr("name"),g=k.replaceSpecialChars(c.val()),"epage"===f&&g.length<1&&(g=b('[name="spage"]').val()),g.length>0&&d[f]&&(l["searchWithin-iter-"+a]=d[f]+g)}),a=i.serialize()+"&"+b.param(l).replace(/-iter-[0-9]+/g,"")),window.location.href=j+a}};return a.search=d,a}(Xplore||{},jQuery);j$(function(){j$("#moreSearchOptions").bind("click",function(){j$("#searchOptions").show()}),j$("#search-field").delegate("#searchOptions","mouseleave",function(){j$("#searchOptions").hide()}),j$("#search_within_suggestions").click(function(a){a.preventDefault()}),j$(document).keyup(function(){activeObj=document.activeElement,0==j$(activeObj).parents("#search_form").length&&fill()}),j$("#searchDropClose a").click(function(){return fill(),!1})});var Xplore=function(a,b,c){"use strict";var d={isActive:!1,init:function(a){return this.node=a,this.cacheEls(),this.bindEvents(),this.notification=new Xplore.Notification("#personal-sign-in .Notification"),this},cacheEls:function(){var a=b(this.node);this.el={form:a.find(".form-personal-signin"),username:a.find(".username"),password:a.find(".password"),submit:a.find(".js-submit"),signinLink:b(".Menu-item .sign-in"),forgotUPLink:a.find(".js-forgotUserPass")}},bindEvents:function(){var a=this.el,b=this;a.submit.on("click",function(){return b.attemptSignin(),!1}),a.signinLink.on("click",function(){return b.showSignin(),!1}),a.forgotUPLink.on("click",function(){return b.hideSignin(),Modal.show("/xpl/mwForgotUserPasswordIntro.jsp"),!1})},attemptSignin:function(){var a,b,c=this.el,d=this,e=c.form.attr("action"),f=c.form.serializeArray(),g={};for(this.notification.hide(),this.showLoader(),b=0;b!==f.length;b++)g[f[b].name]=f[b].value;a={url:e,type:"POST",data:g},IBP_WS_ENABLED_FLAG?(a_authenticateUserByJsonp(g.username,g.password),setTimeout(function(){xhr.request(a,d.successHandler.bind(d),d.failHandler.bind(d))},IBP_MEMBEER_SIGNIN_TIME_WAIT_IN_MILLIES)):xhr.request(a,this.successHandler.bind(this),this.failHandler.bind(this))},showLoader:function(){var a='<i class="icon-loading"></i>';this.el.submit.css({padding:"1px 0",width:"77px"}).html(a)},hideLoader:function(){this.el.submit.attr("style","").html("Sign In")},showSignin:function(){b(this.node).show(),this.el.username.focus(),Xplore.util.showShield()},hideSignin:function(){b(this.node).hide(),Xplore.util.hideShield()},successHandler:function(a){var c,d=JSON.parse(a.data),e=this.el.username.val();return this.hideLoader(),"M"===d.userType&&e.indexOf("@")<0?(b.cookie("legacyUserName",e,{path:"/",domain:".ieee.org"}),void Modal.refreshLegacyAccountTransition("/xpl/mwLegacyAccountTransition.jsp")):"errorReason"in d?void this.notification.show('<i class="icon fa fa-warning"></i>'+d.errorReason).updateState("error"):"errorUrl"in d?void(location.href=d.errorUrl):(c=this.getRedirectURL(),void(c===location.pathname?location.reload(!0):location.replace(c)))},failHandler:function(){this.notification.show("Something went wrong. Please try again.").updateState("error"),this.hideLoader()},getRedirectURL:function(){var a=b.url().param("url"),d=/(guesthome\.jsp|dynhome\.jsp|home\.jsp|login\.jsp)/i;return a!==c?a:location.pathname.search(d)>0?"/Xplore/home.jsp":location.pathname}};return a.signin=d,a}(Xplore||{},jQuery);j$(document).ready(function(){j$("#pofsignIn").bind("click",signIn),stopSpinner()}),j$.fn.serializeObject=function(){var a={},b=this.serializeArray();return j$.each(b,function(){void 0!==a[this.name]?(a[this.name].push||(a[this.name]=[a[this.name]]),a[this.name].push(this.value||"")):a[this.name]=this.value||""}),a},jQuery(".Toolbar .is-menu > a, .Metanav .is-menu > a").on("mouseenter focus",function(){var a=jQuery(this),b=jQuery(this).nextAll(".Menu--overlay");b.show(),a.on("keydown",function(a){a.shiftKey&&9===a.which&&(b.hide(),jQuery(this).off("keydown"))}),b.find("li:last > a").on("keydown",function(a){a.shiftKey||9!==a.which||(b.hide(),jQuery(this).off("keydown"))})}),jQuery(".Toolbar .is-menu, .Metanav .is-menu").on("mouseleave",function(){jQuery(this).find(".Menu--overlay").hide()}),jQuery(".Menu--overlay").on("keydown",function(a){var b=document.activeElement,c=b===jQuery(this).find("li:first a")[0],d=b===jQuery(this).find("li:last a")[0];38!==a.keyCode||c?40!==a.keyCode||d||(a.preventDefault(),jQuery(b).parent().next().find("a").focus()):(a.preventDefault(),jQuery(b).parent().prev().find("a").focus())}),jQuery("#byTopicLink").on("mouseenter focus",function(a){var b=jQuery(this),c=b.offset().top,d=jQuery("#browse-by-topic");jQuery(this).parents(".Menu--overlay").addClass("u-block").show(),d.css({top:c}).show(),"focus"===a.type&&(d.find("li:first a").focus(),d.find("li:last a").on("keydown",function(a){a.shiftKey||9!==a.which||(a.preventDefault(),d.trigger("mouseleave"),jQuery("#primary-browse").nextAll(".Toolbar-item:first").find("a:first").focus(),jQuery(this).off("keydown"))}))}),jQuery("#browse-by-topic").on("mouseleave",function(){jQuery("#primary-browse").find(".Menu--overlay").removeClass("u-block").hide(),jQuery(this).hide()}),jQuery("#browse-by-topic a").on("click",function(){var a="/xpl/topicbrowse.jsp?topic=",b=Xplore.search.replaceSpecialChars(jQuery(this).text());return window.location.href=a+b,!1}),function(jQuery){jQuery.fn.actionSearchToolBar=function(a){return defaults={layout:"horizontal"},a=jQuery.extend(defaults,a),this.each(function(){var b=jQuery(this),c=jQuery(window),d=jQuery(document).height(),e=jQuery('<div id="modal-mask" />');
b.on("click",function(f){if(f.preventDefault(),b.parent().hasClass("disabled"))return!1;b.focus();var g=jQuery("#toolbar-pop-container"),h=function(){jQuery("#modal-mask").remove(),g.empty()};return jQuery("#modal-mask").length?(h(),!1):(g.length||(g=jQuery('<div id="toolbar-pop-container" />').insertAfter(".Toolbar"),jQuery(document).on("click","span.close-popup",function(){h()}),jQuery(document).on("click","span.submit-popup",function(){validatePopup(g)})),g.css("vertical"==a.layout?{marginTop:b.parent().position().top}:"horizontal"==a.layout?{marginLeft:b.position().center}:{marginLeft:b.position().absolute}),jQuery.ajax({url:a.hrefUrl,cache:!1,dataType:"html",success:function(a){g.html(a)}}),void e.on("click",function(){h()}).css({width:c.width(),height:d}).appendTo(jQuery("body")))})})}}(jQuery),function(a){a.fn.loadUrl=function(b){defaults={hrefURL:"",actionId:"",absUrl:"/xpl/abs_all.jsp?"};var b=a.extend(defaults,b),c=b.actionId;this.load(b.hrefURL,function(a,d){switch(d){case"success":switch(c){case"action-download-document-citations":downloadCitationCallback();break;case"action-document-email":emailDocumentCallback(b.absUrl);break;case"action-email-results":emailResultsCallback(b.absUrl);break;case"action-download-searchresult-citations":downloadSearchResultCitationCallback()}break;case"error":}})}}(jQuery),jQuery(".Menu .preferences").actionSearchToolBar({layout:"custom",actionId:"action-preferences",hrefUrl:"/xpl/mwUserPreferences.jsp"});var Xplore=function(a,b){"use strict";var c={config:{markup:'<ul class="Typeahead u-notList"></ul>'},el:{source:null,container:null},init:function(a){var c=this.el;return c.source=b(a),c.container=c.source.siblings(".Typeahead"),c.source.autocomplete({source:function(a,c){var d=b.get("/search/typeahead",{searchRefinementTerm:a.term,searchRefinementId:3410,searchRefinementMaxResults:20},"","html");d.then(function(a){var d=[];b(a).children().each(function(a,c){var e=b(c).find(".Typeahead-item-text").text();d.push(e)}),c(d)}).fail(function(){})},delay:2e3,minLength:3,cacheLength:10}),this},bindEvents:function(){{var a=this.el,b=a.container;a.source}b.on("keyup",function(a){})},insertNode:function(){this.el.source.after(this.config.markup)}};return a.typeahead=c,a}(Xplore||{},jQuery),Xplore=function(a,b){"use strict";var c={showShield:function(){var a='<div class="shield"></div>',c=this,d=b("body");0===b(".shield").length&&(d.prepend(a),d.on("keyup",function(a){27===a.keyCode&&c.cleanupShield()}),b(".shield").on("click",function(){c.cleanupShield()}))},hideShield:function(){b(".shield").remove()},cleanupShield:function(){b(".Overlay").hide(),this.hideShield()},truncate:function(a,c){function d(){b("body").on("click","."+c.expandClassName,function(){var a=b(this);return a.parent().append(" "+f),a.remove(),!1})}var e,f,g,h,i={length:500,showExpandLink:!1,expandLabel:"...(more)",expandClassName:"js-expand-text"},j="object"==typeof a,k="...";return c=b.extend({},i,c),j&&(e=b(a).text()),c.showExpandLink&&(k=b("<a>").addClass(c.expandClassName).attr("href","#").text(c.expandLabel).get(0)),e.length>=c.length&&(g=b.truncate(e,{length:c.length,words:!0,ellipsis:k}),h=g.split(" ").length,f=e.split(" ").slice(h-2).join(" ").trim()),j?(b(a).html(g),void d()):g}};return a.util=c,a}(Xplore||{},jQuery);j$.fn.serializeObject=function(){var a={},b=this.serializeArray();return jQuery.each(b,function(){void 0!==a[this.name]?(a[this.name].push||(a[this.name]=[a[this.name]]),a[this.name].push(this.value||"")):a[this.name]=this.value||""}),a},"function"!=typeof String.prototype.startsWith&&(String.prototype.startsWith=function(a){return 0==this.indexOf(a)}),"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),jQuery(function(){jQuery.support.placeholder=!1,test=document.createElement("input"),"placeholder"in test&&(jQuery.support.placeholder=!0)});